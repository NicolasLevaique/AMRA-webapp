<ion-view title="admin">


    <ion-nav-buttons side="left">
        <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
    </ion-nav-buttons>
    <!--  <ion-content class="has-header">
      <ion-list>
        <ion-item ng-repeat="playlist in playlists" href="#/app/playlists/{{playlist.id}}">
          {{playlist.title}}
        </ion-item>
      </ion-list>
    </ion-content>
  -->


    <ion-content class="has-header"  scrollbar-x="true" padding="true">
        <div ng-show="user.isConnected" class="card">
            <div class="item item-text-wrap">
                Welcome, {{user.name}}
            </div>
        </div>



        <h1 class="title">Create a path</h1>
        <div class="fb-login-button" data-max-rows="1" data-size="xlarge" data-show-faces="false" data-auto-logout-link="false"></div>
        <div
                class="fb-like"
                data-share="true"
                data-width="450"
                data-show-faces="true">
        </div>

        <form name="form" novalidate class="simple-form">
            Name:
            <input type="text" ng-model="path.name"  required /><br />
            Description :
            <input type="text" ng-model="path.description" required/><br />
            Position :
            <button ng-click="publishPath()"
                    ng-disabled="form.$invalid ">SAVE PATH</button>
            </form>
            <button ng-click="addCheckpoint()">Add Checkpoint</button>

            <ion-item ng-repeat="checkpoint in path.checkpoints" on-finish-render>
                <h4> New Checkpoint </h4>
                <form name="form" novalidate class="simple-form">
                    Name:
                    <input type="text" ng-model="checkpoint.name"  required /><br />
                    Description :
                    <input type="text" ng-model="checkpoint.description" required/><br />
                    Position :
                    <input type="text" id={{"autocomplete"+$index}} required/><br />
                </form>

                <button ng-click="addCheckpoint()">Add Checkpoint</button>
            </ion-item>
        </div>
    </ion-content>
</ion-view>
